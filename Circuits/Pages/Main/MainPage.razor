@page "/"
@using Circuits.ViewModels.Entities.Elements

<div class="main-page-cnt">
    <div class="navigation">
        <NavigationPlaneComponent>

            <ControlTemplate>
                <div @onclick="() => { OnPenClicked(4); }" class="control-icon pen noselectable-text @(_context.PencilMode && _mode == 4 ? "activated" : "")">DC</div>
                <div @onclick="() => { OnPenClicked(3); }" class="control-icon pen noselectable-text @(_context.PencilMode && _mode == 3 ? "activated" : "")">I</div>
                <div @onclick="() => { OnPenClicked(2); }" class="control-icon pen noselectable-text @(_context.PencilMode && _mode == 2 ? "activated" : "")">C</div>
                <div @onclick="() => { OnPenClicked(1); }" class="control-icon pen noselectable-text @(_context.PencilMode && _mode == 1 ? "activated" : "")">R</div>
                <div @onclick="() => { OnPenClicked(0); }" class="control-icon pen noselectable-text @(_context.PencilMode && _mode == 0 ? "activated" : "")">W</div>
            </ControlTemplate>

            <ContentTemplate Context="_navCtx">

                <SchemeRendererComponent
                    SchemeRendererContext="_context"
                    Scale="_navCtx.Scale"
                    OnFirstPointSet="OnFirstPointSet"
                    OnSecondPointSet="OnSecondPointSet">

                    <ElementComponent Key="typeof(Wire)">
                        <Template Context="element">
                            <WireComponent Wire="(Wire)element"/>
                        </Template>
                    </ElementComponent>

                    <ElementComponent Key="typeof(Resistor)">
                        <Template Context="element">
                            <ResistorComponent Resistor="(Resistor)element"/>
                        </Template>
                    </ElementComponent>

                    <ElementComponent Key="typeof(Capacitor)">
                        <Template Context="element">
                            <CapacitorComponent Capacitor="(Capacitor)element"/>
                        </Template>
                    </ElementComponent>

                    <ElementComponent Key="typeof(Inductor)">
                        <Template Context="element">
                            <InductorComponent Inductor="(Inductor)element"/>
                        </Template>
                    </ElementComponent>

                    <ElementComponent Key="typeof(DCSource)">
                        <Template Context="element">
                            <DCSourceComponent DCSource="(DCSource)element"/>
                        </Template>
                    </ElementComponent>

                </SchemeRendererComponent>

            </ContentTemplate>

        </NavigationPlaneComponent>
    </div>
</div>